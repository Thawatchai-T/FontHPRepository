/*
 * File: app/view/FrmGarantorViewController7.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('FrontHPApp.view.FrmGarantorViewController7', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.mainmaincheckdoccheckdocumenttab',

    onFindClick: function(button, e, eOpts) {
        console.log("ค้นหาข้อมูลเอกสารแนบ");
    },

    onClearClick: function(button, e, eOpts) {
        var me = this.getView(),
            form = me.down('form');
        paging = me.down('pagingtoolbar');
        form.reset();
        paging.moveFirst();
    },

    onGridpanelSelectionChange: function(model, selected, eOpts) {
        var me = this.getView(),
            form = me.down("#form2");

        console.log(selected);
        form.loadRecord(selected[0]);
    },

    onInsertDocClick: function(button, e, eOpts) {
        var me = this.getView();
        form = me.down('#form2').getForm();
        var requestNo = form.findField("RequestNo").getValue();
        console.log(requestNo);
        Ext.widget("tab2windowfrmbrowsefilecheck").show();
    },

    onSaveClick: function(button, e, eOpts) {
        console.log(button.up().up().getForm().getValues());
        var dataform =button.up().up().getForm().getValues();
        Ext.MessageBox.confirm("Confirm","คุณต้องบันทึกรายการ",function(btn){

            if(btn == 'yes'){

                Ext.MessageBox.alert("Status","บันทึกข้อมูลแล้ว");
            }

        },this);

        //buttom.up().getForm();
    },

    onCancelClick: function(button, e, eOpts) {
        var me = this.getView(),
            grid = me.down('gridpanel'),
            record = grid.getSelection()[0],
            form = me.down('#form2');
        form.reset();
        console.log(record.get('IdApprove'));
        form.loadRecord(record);

    }

});
